using BookShop.Models;
using Moq;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace BookShopTests.Mocks
{
    public class RepositoryMocks
    {
        public static Mock<IBookRepository> getBookRepository()
        {
            var books = new List<Book>
            {
                 new Book {IsMostSoldBook=true , shortDescritpion = "Încă de la apariţie, în 1948, în revista Sur a Victoriei Ocampo, romanul Tunelul s-a bucurat, de aprecierile elogioase ale unor mari scriitori ca Thomas Mann, Graham Greene şi Albert Camus, autorul fiind considerat un „clasic existenţialist“.", title = "Tunelul", author = "Ernesto Sabato", publisher = "Humanitas Fiction", price = 24.00M, inStock = true, imgUrl = @"\Images\1stBook.jpg", description = "Încă de la apariţie, în 1948, în revista Sur a Victoriei Ocampo, romanul Tunelul s-a bucurat, de aprecierile elogioase ale unor mari scriitori ca Thomas Mann, Graham Greene şi Albert Camus, autorul fiind considerat un „clasic existenţialist“.\r\n\r\nRoman tulburător şi captivant despre dragoste şi moarte, întemeiat pe o investigaţie existenţială a dramei determinate de imposibilitatea comunicării cu semenii, de solitudinea iremediabilă a individului şi mai cu seamă a artistului, de abisul halucinant dintre puritate şi nebunie, Tunelul este confesiunea pictorului Juan Pablo Castel. Din închisoare, acesta decide să relateze faptele şi să dezvăluie motivele obscure care l-au determnat s-o omoare pe María Iribarne. Sondând cu rigoare magistrală condiţia tragică a omului contemporan, izvorâtă din credinţa excesivă în raţiune, Sabato descrie modul în care un artist sensibil şi talentat ajunge treptat, sub imperiul propriilor demoni lăuntrici, de la obsesia atotstăpânitoare pentru dragostea absolută la gelozie (auto)distrugătoare, apoi la nebunie şi crimă.", publishYear = 1948, genre = Genres["Fiction"] },
                        new Book {IsMostSoldBook = true, shortDescritpion = "Ultimul mare mit al literaturii argentiniene, stins din viaţă în 2011, cu puţin înainte de a împlini o sută de ani, Ernesto Sabato este creatorul unei opere proteice, care conţine în esenţă eternele contradicţii şi frământări ale fiinţei umane şi ale societăţii, circumscrise unui univers artistic şi spiritual de o tulburătoare profunzime şi originalitate.", title = "Despre eroi si morminte", author = "Ernesto Sabato", publisher = "Humanitas Fiction", price = 30.00M, inStock = true, imgUrl = @"\Images\2ndBook.jpg", description = "Ultimul mare mit al literaturii argentiniene, stins din viaţă în 2011, cu puţin înainte de a împlini o sută de ani, Ernesto Sabato este creatorul unei opere proteice, care conţine în esenţă eternele contradicţii şi frământări ale fiinţei umane şi ale societăţii, circumscrise unui univers artistic şi spiritual de o tulburătoare profunzime şi originalitate.\r\n\r\n„În romanul meu am încercat să surprind realitatea în toată extinderea şi profunzimea ei, înglobând nu doar partea diurnă a existenţei, ci şi pe aceea nocturnă şi tenebroasă. Întrucât Fernando Vidal este personajul central şi precumpănitor, tot ce se referea la el era important şi trebuia descris... Raportul reprezintă marele coşmar trăit de el, exprimând, chiar dacă simbolic şi oarecum incert, miezul cel mai semnificativ al condiţiei şi existenţei sale. Dacă aş fi suprimat această parte din roman, din considerente legate de coerenţa logică, ar fi însemnat să suprim visele oamenilor, care aparţin viziunii lor integrale asupra vieţii.“ (Ernesto SABATO)\r\n\r\nAdevărată capodoperă, Despre eroi şi morminte (1961), cel de-al doilea volet al trilogiei care începe cu Tunelul (1948) şi se încheie cu Abaddon, exterminatorul (1974), este un roman total, extrem de dens, scris cu credinţa mărturisită de autor că „nu se poate trăi fără eroi, sfinţi şi martiri\", şi că „prezentul generează trecutul“. Trei planuri se întrepatrund, într-un joc fascinant de umbre şi lumini, în complexa sa structura narativă de voci alternante, întemeiată pe împletirea istoriei naţionale argentiniene cu drama individuală: povestea de dragoste între Martín şi Alejandra, trecutul glorios dezgropat din morminte, reconsiderat printr-o radiografie a Argentinei contemporane, şi obsedanta temă a orbirii şi a nebuniei din celebrul Raport despre Orbi.", publishYear = 1961, genre = Genres["Fiction"] },
                        new Book {IsMostSoldBook = false, shortDescritpion = "Un roman complex, care relevă momente esenţiale din istoria lumii, împletind povestirea filozofică, eseul şi elementul autobiografic într-o capodoperă a literaturii universale.", title = "Abaddon exterminatorul", author = "Ernesto Sabato", publisher = "Humanitas Fiction", price = 45.28M, inStock = true, imgUrl = @"\Images\3rdBook.jpg", description = "Un roman complex, care relevă momente esenţiale din istoria lumii, împletind povestirea filozofică, eseul şi elementul autobiografic într-o capodoperă a literaturii universale.\r\n\r\n„Când m-am apucat să scriu cel de-al treilea roman, care în final avea să devină Abaddon exterminatorul, intenţia mea era să construiesc un roman despre roman, un fel de roman la puterea a doua. Voiam să scriu ceva care să fie în acelaşi timp ficţiune, dar şi o dezbatere asupra ficţiunii, un fel de anchetă asupra formei înseşi a genului, asupra posibilităţilor, a limitelor, a secretului izvoarelor sale în adâncul sufletului omenesc.“ (Ernesto SABATO)\r\n\r\nUnul dintre cele mai cutremurătoare romane ale secolului XX, ultima parte a trilogiei care mai cuprinde Tunelul şi Despre eroi şi morminte, Abaddon exterminatorul este o creaţie densă, vizionară, de un intelectualism rafinat. Într-un Buenos Aires terorizat de dictatura militară de la începutul anilor '70, o serie de semne nefaste, de premoniţii şi evenimente inexplicabile par să anunţe o inevitabilă apocalipsă. Un vagabond clarvăzător zăreşte un semn pe care numai el pare să-l înţeleagă: un dragon cu şapte capete vărsând flăcări pe cerul înserării, un tânăr idealist e torturat şi ucis de poliţie, care îl bănuieşte de subversiune, agenţi ai Răului par să se fi răspândit pretutindeni şi, treptat, peste lumea lipsită de speranţă se înstăpâneşte puterea tenebrelor.", publishYear = 1974, genre = Genres["Fiction"] },
                        new Book {IsMostSoldBook = false, shortDescritpion = "Una dintre capodoperele literaturii universale, \"Divina Comedie\", a exercitat o puternica influenta asupra culturii, artei si literaturii intregii lumi. \"Infernul\", prima parte a acestei trilogii, reprezinta calatoria lui Dante prin cele noua cercuri ale iadului.", title = "Infernul", author = "Dante Aligheri", publisher = "RAO", price = 30.28M, inStock = true, imgUrl = @"\Images\imgBook4.png", description = "Una dintre capodoperele literaturii universale, \"Divina Comedie\", a exercitat o puternica influenta asupra culturii, artei si literaturii intregii lumi. \"Infernul\", prima parte a acestei trilogii, reprezinta calatoria lui Dante prin cele noua cercuri ale iadului. El isi incepe peregrinarea in jurul anului 1307, iar ghid pe acest drum presarat de primejdii ii este idolul sau, poetul roman Virgiliu, care il conduce spre poarta infernului.\r\n\r\nPe parcursul calatoriei sale, Dante va intalni numeroase personalitati, filosofi sau figuri mitice ale Antichitatii, dar si oameni care au trait in vremea sa. Acest din urma amestec de locuri imaginare si experiente concrete reprezinta unul dintre marile talente ale poetului, care descrie cu multa forta si realism toate aceste personaje celebre.", publishYear = 2013, genre = Genres["Mistery"] },
                        new Book {IsMostSoldBook = true, shortDescritpion = "„O scriere fabuloasa, fastuoasa, somptuoasa, narcotica, [...] o proza [...] in care sangele se distileaza periodic pana ajunge parfum si tot ce e greu devine usor pentru a pluti...“ (Dan Stanca, Romania libera)", title = "Orbitor", author = "Mircea Cartarescu", publisher = "Humanitas Fiction", price = 80.28M, inStock = true, imgUrl = @"\Images\bookImg5.jpg", description = "„O scriere fabuloasa, fastuoasa, somptuoasa, narcotica, [...] o proza [...] in care sangele se distileaza periodic pana ajunge parfum si tot ce e greu devine usor pentru a pluti...“ (Dan Stanca, Romania libera)\r\n\r\n„O desfatare lingvistica, o carte in care limba ofera un spectacol uluitor, fara egal.“ (Marius Chivu, Romania libera)", publishYear = 2007, genre = Genres["Fiction"] },
                        new Book {IsMostSoldBook = false, shortDescritpion = "Poezia a avut o traiectorie ciudată prin viața mea, a venit nechemată și a plecat când a dorit (de fapt, a plecat când n-a mai fost nevoie să mă salveze). Dar ce bine că a lăsat cartea asta în urmă.", title = "Muzeul Convorbirilor Intrerupte", author = "Anda Docea", publisher = "Charmides", price = 22.84M, inStock = true, imgUrl = @"\Images\bookImage6.jpeg", description = "Poezia a avut o traiectorie ciudată prin viața mea, a venit nechemată și a plecat când a dorit (de fapt, a plecat când n-a mai fost nevoie să mă salveze). Dar ce bine că a lăsat cartea asta în urmă.", publishYear = 2022, genre = Genres["Poetry"] },
                        new Book {IsMostSoldBook = true, shortDescritpion = "\"Zece...\" Zece straini sunt atrasi de un misterios U.N. Owen, intr-o casa de pe o insula izolata, din apropierea Devonului.\r\n\"Noua...\" In timpul cinei, un mesaj inregistrat ii acuza pe fiecare in parte de cate o crima, iar in final, in aceeasi seara, unul dintre oaspeti moare.\r\n\"Opt...\" Rupti de lume din cauza unei furtuni violente si urmariti de versurile unei vechi poezii pentru copii, care numara descrescator de la zece la zero, oaspetii lui U.N. Owen incep, unul cate unul, sa moara.", author ="Agatha Christie", description= "\"Zece...\" Zece straini sunt atrasi de un misterios U.N. Owen, intr-o casa de pe o insula izolata, din apropierea Devonului.\r\n\"Noua...\" In timpul cinei, un mesaj inregistrat ii acuza pe fiecare in parte de cate o crima, iar in final, in aceeasi seara, unul dintre oaspeti moare.\r\n\"Opt...\" Rupti de lume din cauza unei furtuni violente si urmariti de versurile unei vechi poezii pentru copii, care numara descrescator de la zece la zero, oaspetii lui U.N. Owen incep, unul cate unul, sa moara.\r\n\"Sapte...\" Care dintre ei este criminalul? Oare va supravietui cineva?\r\nAgatha Christie este cunoscuta in intreaga lume drept Regina Crimei. Hercule Poirot, cel mai celebru detectiv din romanele politiste de la Sherlock Holmes, a fost creat pentru primul roman al\r\nAgathei Christie, Misterioasa afacere de la Styles. Poirot si Miss Marple au devenit faimosi la nivel mondial si au facut subiectul multor filme realizate pentru marele si micul ecran.", genre = Genres["Mistery"], imgUrl=@"\Images\bookImage7.jpg", inStock=true, price=25, publisher="Litera", publishYear=2018, title="Zece Negri Mititei"},
                        new Book {IsMostSoldBook = false, shortDescritpion = "Ne vedem la capătul poveștilor.\r\n\r\nCel mai recent roman al lui Marian Coman se deschide cu cea mai veche istorie din lume: una de iubire. Într-un prezent apropiat, Alex te trage în povestea lui și a Adei. Nu-ți lasă vreme să te înduioșezi, căci, curând, descoperi că-ți relatează ultima lor zi împreună. În paralel, îl întâlnești pe Manu, care te lasă să pătrunzi în intimitatea gândurilor sale de scriitor aflat în plină criză creativă. ", author = "Marian Coman", description = "Ne vedem la capătul poveștilor.\r\n\r\nCel mai recent roman al lui Marian Coman se deschide cu cea mai veche istorie din lume: una de iubire. Într-un prezent apropiat, Alex te trage în povestea lui și a Adei. Nu-ți lasă vreme să te înduioșezi, căci, curând, descoperi că-ți relatează ultima lor zi împreună. În paralel, îl întâlnești pe Manu, care te lasă să pătrunzi în intimitatea gândurilor sale de scriitor aflat în plină criză creativă. Cei doi îți vor fi aproape pe tot parcursul cărții, ba unul, ba celălalt, până când destinele li se întrepătrund, permanent la granița dintre realitate și ficțiune, dintre virtual și real, dintre povești.\r\n\r\nUltima carte are, de altfel, darul acela aparte al literaturii bune: să schimbe ceva în tine la finalul lecturii.", genre = Genres["Fiction"], imgUrl = @"\Images\bookImage8.jpg", inStock = true, price = 44.99M, publisher = "Nemira", publishYear = 2024, title = "Ultima Carte" },
                        new Book {IsMostSoldBook = true, shortDescritpion = "Fratii Karamazov, cel din urma si cel mai complex roman al lui Dostoievski, este in acelasi timp povestea scrisa magistral a unui paricid si o meditatie filosofica asupra intrebarilor esentiale ale umanitatii: existenta lui Dumnezeu, liberul-arbitru, natura colectiva a vinei si consecintele dezastruoase ale rationalismului.", author = "Feodor Dostoievski", description = "Fratii Karamazov, cel din urma si cel mai complex roman al lui Dostoievski, este in acelasi timp povestea scrisa magistral a unui paricid si o meditatie filosofica asupra intrebarilor esentiale ale umanitatii: existenta lui Dumnezeu, liberul-arbitru, natura colectiva a vinei si consecintele dezastruoase ale rationalismului. Intruchipind patru ipostaze fundamentale ale individului, fratii Karamazov au, fiecare, motive bine intemeiate, desi de naturi diferite, sa-si ucida tatal, mosierul Fiodor Pavlovici Karamazov, care duce o viata amorala si desfrinata. Moartea neasteptata a acestuia arunca suspiciuni asupra tuturor celor patru frati si da nastere la numeroase teorii, Dostoievski exploatind cu o abilitate remarcabila filonul politist al povestii, ce creeaza un suspans capabil sa sustina intreaga structura romanesca.", genre = Genres["Fiction"], imgUrl = @"\Images\bookImage9.jpg", inStock = true, price = 32.95M, publisher = "Polirom", publishYear = 2011, title = "Fratii Karamazov" },
                        new Book {IsMostSoldBook = true, shortDescritpion = "\"Un veac de singurătate\", capodopera care l-a propulsat pe Gabriel García Márquez pe orbita celebrităţii internaţionale şi i-a adus premiul Nobel (1982), este, în opinia unanimă a criticii - după Don Quijote de la Mancha, nemuritoarea creaţie a lui Cervantes -, cel mai frumos roman de expresie spaniolă din toate timpurile, aşa cum mărturiseşte şi Pablo Neruda care îl numeşte \"Don Quijote al timpului nostru\".", author = "Gabriel Garcia Marquez", description = "\"Un veac de singurătate\", capodopera care l-a propulsat pe Gabriel García Márquez pe orbita celebrităţii internaţionale şi i-a adus premiul Nobel (1982), este, în opinia unanimă a criticii - după Don Quijote de la Mancha, nemuritoarea creaţie a lui Cervantes -, cel mai frumos roman de expresie spaniolă din toate timpurile, aşa cum mărturiseşte şi Pablo Neruda care îl numeşte \"Don Quijote al timpului nostru\". Istoria celor o sută de ani ai fabuloasei aventuri trăite de cele şapte generaţii ale familiei Buendía, cu fanteziile, obsesiile, tragediile, pasiunile, disperările şi speranţele lor, este de fapt istoria miticului Macondo, întemeiat de patriarhul José Arcadio Buendía, teritoriu prodigios, unde fantasticul, irealul, se insinuează adesea în realitate, miraculosul convieţuind firesc cu viaţa de zi cu zi. Însă întregul demers narativ sugerează ideea că Macondo nu se mărgineşte la o arie concretă, istoria sa fiind de fapt istoria existenţei umane, căci, aşa cum arată autorul, \"mai curând decât un loc de pe lume, Macondo este o stare de spirit\".\r\n\r\nRomanul se bucură de traducerea nouă a doamnei Tudora Șandru Mehedinți, și este bazată pe ediția aniversară publicată în 2007 de Academia Regală Spaniolă și Asociația Academiilor de Limba spaniolă. Ediția actuală a fost revizuită de Gabriel Garcia Márquez însuși.", genre = Genres["Fiction"], imgUrl = @"\Images\bookImage10.jpg", inStock = true, price = 45.99M, publisher = "RAO", publishYear = 2015, title = "Un veac de singuratate" }
            };
            var mockBookRepository = new Mock<IBookRepository>();
            mockBookRepository.Setup(repo => repo.GetAll).Returns(books);
            mockBookRepository.Setup(repo =>repo.MostSoldBooks).Returns(books.Where(b=>b.IsMostSoldBook));
            mockBookRepository.Setup(repo => repo.getBookById(It.IsAny<int>())).Returns(books[0]);
            return mockBookRepository;
        }

        public static Mock<IGenreRepository> getGenreRepository()
        {
            var genres = new List<Genre>
            {
                new Genre {genreId=1, genreName = "Fiction", genreDescription="lorem ipsum" },
                new Genre {genreId=2, genreName = "Fantasy", genreDescription="lorem ipsum" },
                new Genre {genreId=3, genreName = "Mistery", genreDescription="lorem ipsum" },
                new Genre {genreId=4, genreName = "Poetry", genreDescription="lorem ipsum" }
            };
            var mockGenreRepository = new Mock<IGenreRepository>();
            mockGenreRepository.Setup(repo => repo.allGenres).Returns(genres);
            return mockGenreRepository;
        }

        public static Dictionary<string, Genre>? _genres;

        public static Dictionary<string, Genre> Genres
        {
            get
            {
                if (_genres == null)
                {
                    var genereList = new Genre[]
                    {
                        new Genre { genreName = "Fiction" },
                        new Genre { genreName = "Fantasy" },
                        new Genre { genreName = "Mistery" },
                        new Genre { genreName = "Poetry" }
                    };
                    _genres = new Dictionary<string, Genre>();

                    foreach (Genre category in genereList)
                    {
                        _genres.Add(category.genreName, category);
                    }
                }
                return _genres;
            }
        }

    }
}
